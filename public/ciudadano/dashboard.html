<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Ciudadano - Decisiones Ciudadanas</title>
    <link rel="stylesheet" href="../assets/css/ciudadano.css">
</head>
<body>
    <div class="dashboard-container">
        <header class="dashboard-header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-circle">DC</div>
                    <span class="app-name">Decisiones Ciudadanas</span>
                </div>
                
                <div class="user-section">
                    <div class="user-avatar">
                        <span id="userInitials">JP</span>
                    </div>
                    <button class="user-menu-btn" onclick="toggleUserMenu()">
                        <span id="userName">Juan Pérez</span>
                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
                            <path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5"/>
                        </svg>
                    </button>
                    <div class="user-menu" id="userMenu">
                        <a href="#" onclick="changePassword()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 7C13.1 7 14 7.9 14 9S13.1 11 12 11 10 10.1 10 9 10.9 7 12 7ZM12 17C10.33 17 8.94 16.16 8.21 14.89C8.38 13.63 10.92 13 12 13S15.62 13.63 15.79 14.89C15.06 16.16 13.67 17 12 17Z"/>
                            </svg>
                            Cambiar Contraseña
                        </a>
                        <a href="#" onclick="logout()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M16 17V14H9V10H16V7L21 12L16 17M14 2C15.11 2 16 2.9 16 4V6H14V4H5V20H14V18H16V20C16 21.11 15.11 22 14 22H5C3.9 22 3 21.11 3 20V4C3 2.9 3.9 2 5 2H14Z"/>
                            </svg>
                            Cerrar sesión
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <main class="dashboard-main">
            <div class="welcome-section">
                <h1 id="welcomeMessage">¡Bienvenido, Juan!</h1>
                <p class="welcome-subtitle">Participa en las decisiones de tu comunidad y haz que tu voz sea escuchada</p>
            </div>

            <div class="filters-section">
                <div class="search-container">
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="Buscar propuestas..." 
                        class="search-input"
                    >
                    <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M17.5 17.5L13.875 13.875M15.8333 9.16667C15.8333 12.8486 12.8486 15.8333 9.16667 15.8333C5.48477 15.8333 2.5 12.8486 2.5 9.16667C2.5 5.48477 5.48477 2.5 9.16667 2.5C12.8486 2.5 15.8333 5.48477 15.8333 9.16667Z" stroke="currentColor" stroke-width="1.67"/>
                    </svg>
                </div>

                <div class="filter-controls">
                    <select id="estadoFilter" class="filter-select">
                        <option value="">Todos</option>
                        <option value="Pendiente">Pendiente</option>
                        <option value="En Revision">En Revisión</option>
                        <option value="Aprobada">Aprobada</option>
                        <option value="En Ejecucion">En Ejecución</option>
                        <option value="Completada">Completada</option>
                        <option value="Rechazada">Rechazada</option>
                    </select>

                    <select id="categoriaFilter" class="filter-select">
                        <option value="">Todas</option>
                        <option value="Infraestructura">Infraestructura</option>
                        <option value="Seguridad">Seguridad</option>
                        <option value="Salud">Salud</option>
                        <option value="Educacion">Educación</option>
                        <option value="Medio Ambiente">Medio Ambiente</option>
                        <option value="Transporte">Transporte</option>
                        <option value="Cultura y Recreacion">Cultura y Recreación</option>
                        <option value="Servicios Publicos">Servicios Públicos</option>
                        <option value="Desarrollo Social">Desarrollo Social</option>
                        <option value="Tecnologia">Tecnología</option>
                    </select>
                </div>
            </div>

            <div class="propuestas-grid" id="propuestasGrid">
                <!-- Las propuestas se cargarán dinámicamente aquí -->
                <div class="loading-message">
                    Cargando propuestas...
                </div>
            </div>
        </main>
    </div>

    <script src="../assets/js/ciudadano.js"></script>
</body>
</html>
